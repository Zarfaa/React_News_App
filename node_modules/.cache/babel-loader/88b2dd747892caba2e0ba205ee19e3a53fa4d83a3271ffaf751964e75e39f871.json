{"ast":null,"code":"import _regeneratorRuntime from\"D:/React_News_App/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/React_News_App/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"D:/React_News_App/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import NewsItem from\"./NewsItem\";import Spinner from\"./Spinner\";import InfiniteScroll from\"react-infinite-scroll-component\";import{useState}from\"react\";import{useEffect}from\"react\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var News=function News(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),articles=_useState2[0],setarticles=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),totalResults=_useState4[0],settotalResults=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setloading=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),page=_useState8[0],setpage=_useState8[1];var capitalizeFirstLetter=function capitalizeFirstLetter(string){return string.charAt(0).toUpperCase()+string.slice(1);};var UpdateNews=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,data,parsedata;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:props.setProgress(10);url=\"https://newsapi.org/v2/top-headlines?country=\".concat(props.country,\"&category=\").concat(props.category,\"&apiKey=\").concat(props.apiKey,\"&page=\").concat(page,\"&pageSize=\").concat(props.pageSize);setloading(true);_context.next=5;return fetch(url);case 5:data=_context.sent;props.setProgress(30);_context.next=9;return data.json();case 9:parsedata=_context.sent;setarticles(parsedata.articles);setloading(true);settotalResults(parsedata.totalResults);props.setProgress(100);case 14:case\"end\":return _context.stop();}},_callee);}));return function UpdateNews(){return _ref.apply(this,arguments);};}();useEffect(function(){document.title=\"\".concat(capitalizeFirstLetter(props.category),\" - DailyNews\");UpdateNews();},[]);var fetchMoreData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var url,data,parsedata;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:setpage(page+1);url=\"https://newsapi.org/v2/top-headlines?country=\".concat(props.country,\"&category=\").concat(props.category,\"&apiKey=\").concat(props.apiKey,\"&page=\").concat(page,\"&pageSize=\").concat(props.pageSize);_context2.next=4;return fetch(url);case 4:data=_context2.sent;_context2.next=7;return data.json();case 7:parsedata=_context2.sent;setarticles(articles.concat(parsedata.articles));settotalResults(parsedata.totalResults);case 10:case\"end\":return _context2.stop();}},_callee2);}));return function fetchMoreData(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center\",children:[\"Top \",capitalizeFirstLetter(props.category),\" Headlines\"]}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:articles.length,next:fetchMoreData,hasMore:articles.length!==totalResults,loader:/*#__PURE__*/_jsx(Spinner,{}),children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:articles.map(function(element){return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title,description:element.description,imageUrl:element.urlToImage,newsUrl:element.url,date:element.publishedAt,author:element.author,source:element.source.name})},element.url);})})})})]});};News.defaultProps={country:\"sa\",pageSize:10,category:\"general\"};export default News;","map":{"version":3,"names":["React","NewsItem","Spinner","InfiniteScroll","useState","useEffect","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","News","props","_useState","_useState2","_slicedToArray","articles","setarticles","_useState3","_useState4","totalResults","settotalResults","_useState5","_useState6","loading","setloading","_useState7","_useState8","page","setpage","capitalizeFirstLetter","string","charAt","toUpperCase","slice","UpdateNews","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","data","parsedata","wrap","_callee$","_context","prev","next","setProgress","concat","country","category","apiKey","pageSize","fetch","sent","json","stop","apply","arguments","document","title","fetchMoreData","_ref2","_callee2","_callee2$","_context2","children","className","dataLength","length","hasMore","loader","map","element","description","imageUrl","urlToImage","newsUrl","date","publishedAt","author","source","name","defaultProps"],"sources":["D:/React_News_App/src/components/News.js"],"sourcesContent":["import React from \"react\"\r\nimport  NewsItem  from \"./NewsItem\"\r\nimport Spinner from \"./Spinner\"\r\nimport PropTypes from \"prop-types\"\r\nimport InfiniteScroll from \"react-infinite-scroll-component\"\r\nimport { useState } from \"react\"\r\nimport { useEffect } from \"react\"\r\n\r\nconst News = (props) => {\r\n    const [articles, setarticles] = useState([])\r\n    const [totalResults, settotalResults] = useState(0)\r\n    const [loading, setloading] = useState(true)\r\n    const [page, setpage] = useState(1)\r\n    \r\n    \r\n    const capitalizeFirstLetter = (string) => {\r\n        return string.charAt(0).toUpperCase() + string.slice(1);\r\n    }\r\n\r\n    const UpdateNews = async () => {\r\n        props.setProgress(10);\r\n        const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=${props.apiKey}&page=${page}&pageSize=${props.pageSize}`\r\n        setloading(true)\r\n        let data = await fetch(url)\r\n        props.setProgress(30)\r\n        let parsedata = await data.json()\r\n        setarticles(parsedata.articles)\r\n        setloading(true)\r\n        settotalResults(parsedata.totalResults)\r\n        props.setProgress(100)\r\n    }\r\n\r\n    useEffect(()=>{\r\n        document.title = `${capitalizeFirstLetter(props.category)} - DailyNews`\r\n        UpdateNews()\r\n\r\n    },[])\r\n\r\n    const fetchMoreData = async () => {\r\n        setpage(page + 1)\r\n        const url = `https://newsapi.org/v2/top-headlines?country=${props.country}&category=${props.category}&apiKey=${props.apiKey}&page=${page}&pageSize=${props.pageSize}`\r\n        let data = await fetch(url)\r\n        let parsedata = await data.json()\r\n        setarticles(articles.concat(parsedata.articles))\r\n        settotalResults(parsedata.totalResults)\r\n    }\r\n   \r\n        return (\r\n            <>\r\n                <h1 className=\"text-center\">Top {capitalizeFirstLetter(props.category)} Headlines</h1>\r\n                <InfiniteScroll\r\n                    dataLength={articles.length}\r\n                    next={fetchMoreData}\r\n                    hasMore={articles.length !== totalResults}\r\n                    loader={<Spinner />}>\r\n                    <div className=\"container\">\r\n                        <div className=\"row\" >\r\n                            {articles.map((element) => {\r\n                                return <div className=\"col-md-4\" key={element.url}>\r\n                                    <NewsItem title={element.title} description={element.description} imageUrl={element.urlToImage} newsUrl={element.url} date={element.publishedAt} author={element.author} source={element.source.name} />\r\n                                </div>\r\n                            })}\r\n                        </div>\r\n                    </div>\r\n                </InfiniteScroll>\r\n            </>\r\n        )\r\n    }\r\n    News.defaultProps = {\r\n        country: \"sa\",\r\n        pageSize: 10,\r\n        category: \"general\"\r\n    }\r\n\r\n    News.propTypes = {\r\n        country: PropTypes.string,\r\n        pageSize: PropTypes.number,\r\n        category: PropTypes.string\r\n\r\n    }\r\nexport default News\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}